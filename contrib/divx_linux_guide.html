     <html>
<head>
<title>DivX4 encoding in Linux</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="doom9.css" type="text/css">
<meta name="description" content="">
<meta name="keywords" content="divx, linux, transcode">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<table width="100%" border="0" cellspacing="10" cellpadding="10">
  <tr>
    <td>
      <p><b>DivX4 encoding in Linux</b>   (by <a href=mailto:roland@wertkarten.net>Roland Seuhs</a>)</p>
      <p><font color=red>Warning:</font>
      Please note that you are only allowed to use this guide according to fair-use
      laws which vary from country to country. You are not allowed to
      redistribute copyrighted material. Also note that you have to use this guide and
      all software mentioned at your own risk.</p>
      <p>You will need the following software for this guide:<br>
      </p>
      <p><a href="http://avifile.sourceforge.net/binaries-011002.tgz">Win32 DLLs</a><br>
        <a href="http://avifile.sourceforge.net/divx4linux-20011010.tgz">DivX 4 codec for Linux</a><br>
	<a href="http://www.theorie.physik.uni-goettingen.de/~ostreich/transcode/">transcode</a><br>
	<a href="">Usability Perl scripts written by Roland Seuhs</a>
      <p><b>1: Installation</b></p>
      <p>Download all above files.<br>
      <b>install the Win32 binaries:</b><br>
      Copy the contents of the .tgz file to  /usr/lib/win32/ or run:
      "<b><code>cd /usr/lib; tar xvzf /path/to/binaries-011002.tgz</code></b>"
      </p>
      <p><b>Install the DivX4 Codec:</b><br>
      Unzip the .tgz file and run "<b><code>sh install.sh</code></b>" as root
      </p>
      <p><b>Install transcode:</b><br>
      Get the latest version of transcode and install as usual:
      <b><code>./configure; make; su -c "make install"</code></b>
      </p>
      <p><b>Install Perl scripts:</b><br>
	Copy the scripts to a location in your $PATH, preferrably /usr/local/bin.
      </p>
      <p><b>Notes:</b><br>
      This guide is only about DivX4 encoding, because it yields the best results in my opinion.
      Of course you can also encode DivX ;-) files, on the
      <a href="http://www.theorie.physik.uni-goettingen.de/~ostreich/transcode/">transcode homepage</a>
      can be found some instructions for that.
      Currently this guide also does not cope with decrypting DVDs, yet. This will be added in the future.

      <p><b>Limitations:</b></p>
      transcode currently does not encode NTSC-vobs.

      <p><b>2: Decrypt the DVD</b></p>
      <p>This chapter will be added later</p>
      <p><b>3: Encode</b></p>
      <p><b>3a:The easy way:</b><br>
      Type "<code><b>vob2divx4.pl /path/to/vobs/ 700</b></code>"<br>
      vob2divx will create a temporary directory "tmp" in the working directory in which all temporary files will be stored.
      A couple of hours later, a "movie.avi" file is created. The second parameter is the desired file size in megabytes.<br>
      This script will do:<br>
	<ul>
	  <li>Do everything in small steps, you can interrupt the script anytime. To continue, just run
	  "<code><b>vob2divx4.pl</b></code>" in the same directory again, it won't start from the beginning.</li>
          <li>Crop 64 pixels from top and bottom</li>
          <li>Crop 8 pixels from left and right</li>
          <li>Perform an audio rescale, so that all movies will have the same volume</li>
	  <li>Do 2-pass encoding for better quality and smaller filesize. Almost all movies should fit on a single CD with adequate quality.</li>
	  <li>Do everything at nice level 10, so you won't even notice it</li>
        </ul>
	This should get you an acceptable result for most movies. On IDE-systems, the system will slow down a bit at the beginning
	because the vobs are piped into a helper program to get the exact bitrate and audio rescale. After that the system
	should behave normally since the encoding itself is not very disk-intensive.
      </p>

      <p><b>3b: For even better results:</b><br>
      Type "<code><b>vob2divx4.pl /path/to/vobs/ sample</b></code>"<br>
      This is will create small low-quality samples from the middle of the movie. (Taking all the samples
      takes about 10 to 30 minutes)
      Attention: This is just for boundary-cropping, resizing and audio (see below).
      It is ultra-low quality for faster speed, the end result will look much, much better!<br>
      When you have found the sample you like best, just type in:<br>
      "<code><b>vob2divx4.pl 700 &lt;tmp/sample.avi&gt;</b></code>" where  &lt;tmp/sample.avi&gt;
      is the name of the sample - the corresponding movie will be created automatically.<br>
      To encode another audio-stream, just add the correct audio sample to your command:
      "<code><b>vob2divx4.pl 700 &lt;tmp/sample.avi&gt; &lt;tmp/audio.avi&gt;</b></code>"
       </p>

       <p><b>4: Clean up</b><br>
       If you are satisfied with the result, just delete the tmp directory.<br>
       If you want to cut out the credits at the end of the movie, or want to create
       multiple avis for that movie, go to the tmp directory, and use avimerge to merge
       the avis in the tmp directory in the way you want. Those are 20 second-chunks, so
       it's not for professional cutting, but for cutting out credits it works great.
       </p>

      </td>
  </tr>
</table>
</body>
</html>
